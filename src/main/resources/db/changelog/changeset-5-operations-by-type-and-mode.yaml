databaseChangeLog:
  - changeSet:
      id: 5
      author: yowyob
      changes:
        - cassandra:
            cql: |
              CREATE MATERIALIZED VIEW yowyob_erp.operations_comptable_by_type_and_mode AS
                  SELECT tenant_id, id, type_operation, mode_reglement, compte_principal, est_compte_statique, 
                         sens_principal, journal_comptable_id, type_montant, plafond_client, actif
                  FROM yowyob_erp.operation_comptable
                  WHERE tenant_id IS NOT NULL AND id IS NOT NULL AND type_operation IS NOT NULL AND mode_reglement IS NOT NULL
                  PRIMARY KEY (tenant_id, type_operation, mode_reglement, id)
                  WITH CLUSTERING ORDER BY (type_operation ASC, mode_reglement ASC, id ASC);